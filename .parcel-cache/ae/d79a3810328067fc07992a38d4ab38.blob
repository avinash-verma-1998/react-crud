var helpers = require("../../node_modules/@parcel/transformer-react-refresh-wrap/lib/helpers/helpers.js");
var prevRefreshReg = window.$RefreshReg$;
var prevRefreshSig = window.$RefreshSig$;
helpers.prelude(module);
try {
  var _parcelHelpers = require("@parcel/transformer-js/lib/esmodule-helpers.js");
  _parcelHelpers.defineInteropFlag(exports);
  var _react = require("react");
  var _reactDefault = _parcelHelpers.interopDefault(_react);
  var _reactRouter = require("react-router");
  var _fetch = require("../fetch");
  var _jsxFileName = "/home/avi/dev/learn/revoir_assign/src/Pages/CreatePosts.js", _s = $RefreshSig$();
  const CreatePost = () => {
    _s();
    const {id} = _reactRouter.useParams();
    const [title, setTitle] = _react.useState("");
    const [body, setBody] = _react.useState("");
    const history = _reactRouter.useHistory();
    const createPost = () => {
      const data = {
        user_id: id,
        title,
        body
      };
      _fetch.createUserPost(id, data).then(res => {
        history.push(`/users/${id}`);
      }).catch(err => console.log(err));
    };
    return (
      /*#__PURE__*/_reactDefault.default.createElement(_reactDefault.default.Fragment, null, /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "field mt-5 mb-5",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 24,
          columnNumber: 7
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("label", {
        className: "label",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 25,
          columnNumber: 9
        }
      }, "Title"), /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "control",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 26,
          columnNumber: 9
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("input", {
        value: title,
        onChange: e => {
          setTitle(e.target.value);
        },
        className: "input",
        type: "text",
        placeholder: "title for your post",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 27,
          columnNumber: 11
        }
      }))), /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "field mt-5 mb-5",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 38,
          columnNumber: 7
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("label", {
        className: "label",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 39,
          columnNumber: 9
        }
      }, "Body"), /*#__PURE__*/_reactDefault.default.createElement("div", {
        className: "control",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 40,
          columnNumber: 9
        }
      }, /*#__PURE__*/_reactDefault.default.createElement("textarea", {
        value: body,
        onChange: e => {
          setBody(e.target.value);
        },
        className: "textarea",
        type: "text",
        placeholder: "Body of your post",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 41,
          columnNumber: 11
        }
      })), /*#__PURE__*/_reactDefault.default.createElement("button", {
        onClick: createPost,
        className: "mt-5 button is-primary is-large is-light",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 51,
          columnNumber: 9
        }
      }, "Create Post"), /*#__PURE__*/_reactDefault.default.createElement("button", {
        onClick: () => {
          history.push(`/users/${id}`);
        },
        className: "mt-5 button is-danger ml-4 is-large is-light",
        __self: undefined,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 57,
          columnNumber: 9
        }
      }, "Cancel")))
    );
  };
  _s(CreatePost, "+02416MiudpC2QpRvLrKGZkP2XA=", false, function () {
    return [_reactRouter.useParams, _reactRouter.useHistory];
  });
  _c = CreatePost;
  exports.default = CreatePost;
  var _c;
  $RefreshReg$(_c, "CreatePost");
  helpers.postlude(module);
} finally {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
